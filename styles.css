/*
  Bloomsbury site theme — brand palette refactor
  ----------------------------------------------
  All colors now come from variables based on the provided palette only.
  Update tokens in :root to re-theme without touching component styles.
*/

:root{
  /* Brand */
  --brand-500: #F0C69A; /* General brand colour */

  /* Secondary palette — greys & neutrals */
  --gray-900: #3C3C3B;
  --gray-800: #4A4A49; /* note: appears in both palettes */
  --gray-700: #575756;
  --gray-600: #646363;
  --gray-500: #878787;
  --gray-400: #B2B2B2;
  --gray-300: #C6C6C6;
  --gray-200: #DADADA;
  --gray-100: #EDEDED;

  /* Accent tones */
  --accent-600: #A37F57; /* deeper accent */
  --accent-500: #CB9D6B; /* lighter accent */

  /* Semantic tokens (use these below) */
  --bg: var(--gray-100);
  --surface: var(--gray-100); /* cards / panels */
  --surface-alt: var(--gray-200); /* subtle alternate surface */
  --text: var(--gray-900);
  --text-muted: var(--gray-500);
  --border: var(--gray-200);
  --border-subtle: var(--gray-100);
  --interactive: var(--accent-600);
  --interactive-contrast: var(--brand-500);
  --brand: var(--brand-500);

  /* Focus / ring colors (kept as solid palette tokens) */
  --ring: var(--brand-500);
  --ring-strong: var(--accent-600);

  /* Status / emphasis (mapped to palette, no reds/yellows introduced) */
  --warn-soft: yellow;   /* replaces yellow */
  --warn-medium: orange;/* replaces amber */
  --warn-strong: red;/* replaces red */

  /* On-dark text */
  --on-dark: var(--gray-900);
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;background:var(--bg);color:var(--text);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji';
  height:100dvh; /* fill the TV viewport */
  overflow:hidden; /* no scrollbars on TV */
}

@keyframes bgPulse {
  0%, 100% { background-color: #ffffff; }   /* start/end at white */
  50%      { background-color: var(--pulse-target); } /* peak tint */
}

/* Respect motion preferences */
@media (prefers-reduced-motion: reduce) {
  .theme-warn-yellow,
  .theme-warn-amber,
  .theme-warn-red,
  .banner.warn-yellow,
  .banner.warn-amber,
  .banner.warn-red {
    animation: none !important;
  }
}

/* YELLOW / AMBER THEME */
body.theme-warn-yellow {
  --pulse-target: yellow;
  animation: bgPulse 8s ease-in-out infinite;
}

body.theme-warn-amber {
  --pulse-target: orange;  
  animation: bgPulse 8s ease-in-out infinite;
}

body.theme-warn-red {
  --pulse-target: red;
  animation: bgPulse 8s ease-in-out infinite;
}

/* Banner-only pulse (works with your current JS as-is) */
.banner.warn-yellow {
  --pulse-target: yellow;
  animation: bgPulse 8s ease-in-out infinite;
}

.banner.warn-amber {
  --pulse-target: orange;
  animation: bgPulse 8s ease-in-out infinite;
}

.banner.warn-red {
  --pulse-target: red;
  animation: bgPulse 8s ease-in-out infinite;
}


a{color:inherit}

/* Layout container uses CSS grid: header, contact, slideshow fills rest */
.container{
  height:100%;
  max-width:100%; /* full bleed */
  display:grid;
  grid-template-rows:auto auto 1fr;
  gap:1rem;
  padding:1rem;
}

/* Banner */
.banner{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  /*background:var(--surface);*/
  border:2px solid var(--border);
  border-radius:18px;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}

/* Warning emphasis variants mapped to palette */
.banner.warn-yellow { border-color: var(--warn-soft); box-shadow:0 0 0 3px var(--warn-soft); }
.banner.warn-amber { border-color: var(--warn-medium); box-shadow:0 0 0 3px var(--warn-medium); }
.banner.warn-red    { border-color: var(--warn-strong); box-shadow:0 0 0 3px var(--warn-strong); }

.banner .weather { display:flex; align-items:center; flex-wrap:wrap; }

.banner.has-warning .weather { 
  display: none !important; 
}

.banner.has-warning .warnings { 
  flex: 1; 
  width: auto;
  min-height: 30rem;
  font-size: xx-large;
}

.banner.has-warning .warnings-list {
  display: flex;
  flex-direction: row;
  gap: .75rem;
  font-size: xx-large;
}

.warnings{
  margin-left:1rem;
  width:260px;
  height: 1rem;
  padding:.75rem .9rem;
  color:var(--on-dark);
}
.warnings-empty{ color:var(--text-muted); }
.warnings-list{
  list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.5rem;
}
.warning-item{
  display:flex; gap:.6rem; align-items:flex-start;
  padding:.5rem .6rem; border-radius:10px; color:var(--on-dark);
}
.warning-item .icon{ font-size:1.2rem; line-height:1.1; }
.warning-item .meta{ display:flex; flex-direction:column; gap:.15rem; }
.warning-item .title{ font-weight:700; }
.warning-item .when, .warning-item .areas{ color:var(--text-muted); font-size:.9rem; }

/* Severity accents for the left border */
.warning-yellow { border-color: var(--warn-soft); }
.warning-amber  { border-color: var(--warn-medium); }
.warning-red    { border-color: var(--warn-strong); }

@media (max-width: 800px){
  .banner{ flex-direction:column; }
  .warnings{ margin-left:0; margin-top:.75rem; width:100%; }
}

.brand{display:flex;align-items:center;gap:.75rem}
.brand h1{font-size:1.1rem;margin:0;letter-spacing:.4px}
.badge{display:inline-flex;gap:.5rem;align-items:center;padding:.25rem .6rem;border-radius:999px;background:var(--gray-800);border:1px solid var(--border);font-size:.85rem;color:var(--on-dark)}
.badge small{color:var(--text-muted)}

/* Weather */
.weather{
  gap: 1rem;                           /* was .6rem */
}
#weather-icon{                         /* emoji/icon size */
  font-size: 2rem;
  line-height: 1;
}
.weather .temp{
  font-size: 2.25rem;                  /* bigger number */
  font-weight: 800;
}
.weather .desc{
  font-size: 1.05rem;                  /* slightly larger subtitle */
}

.weather-hours{
  display:flex; gap:.75rem; margin-left:1rem; padding:0; list-style:none; flex-wrap:wrap;
}
.weather-hours li{
  display:flex; flex-direction:column; align-items:center; /* stack */
  gap:.25rem; padding:.5rem .65rem;
  border:1px solid var(--border); background:var(--surface-alt);
  border-radius:10px; font-size:1.5rem; color:var(--text-muted);
}
.weather-hours .h{
  font-variant-numeric:tabular-nums;
  font-weight:600; color:var(--text);
  line-height:1;   /* compact time line */
}
.weather-hours .wx{
  display:inline-flex; align-items:center; gap:.4rem; /* icon + temp on one row */
}
.weather-hours .t{ font-variant-numeric:tabular-nums; font-weight:600; color:var(--text) }


/* Contact card */
.contact-card{
  display:flex;align-items:center;gap:1rem;
  background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:.8rem 1rem;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}
.contact-card img{width:64px;height:64px;border-radius:14px;border:1px solid var(--border-subtle);object-fit:cover;background:var(--gray-800)}
.contact-meta{display:flex;flex-direction:column}
.contact-meta .name{font-weight:700}
.contact-meta .role{color:var(--text-muted);font-size:.9rem}
.contact-actions{margin-left:auto;display:flex;gap:.5rem;align-items: center;}
.btn{border:1px solid var(--border-subtle);background:var(--gray-100);color:var(--accent-500);border-radius:12px;padding:.5rem .8rem;cursor:pointer; font-size: x-large; font-weight: 900;}
.btn:focus, .btn:hover{outline:none;box-shadow:0 0 0 4px var(--ring)}

.phone-label { font-weight:700; }
@media (max-width: 600px){
  .contact-actions { flex-wrap: wrap; }
}

/* --- Slideshow (fills remaining space) --- */
.slideshow{
  position:relative;
  width:100%;
  height:100%;
  background:var(--gray-900); /* pleasant letterboxing */
  border-radius:16px;
  border:1px solid var(--border);
  overflow:hidden;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}
.slide-layer{
  position:absolute;
  inset:0;
  opacity:0;
  transition:opacity 600ms ease-in-out;
  display:flex;
  align-items:center;
  justify-content:center;
}
.slide-layer.active{ opacity:1; }
.slide-img{
  width:100%;
  height:100%;
  object-fit:contain; /* never crop Canva pages */
  background:var(--gray-900);
}

/* Footer note is no longer shown by default on TV, but keep style if reused */
.footer-note{color:var(--text-muted);text-align:center;margin:0.5rem 0 .5rem}
